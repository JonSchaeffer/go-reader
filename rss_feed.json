{
  "XMLName": {
    "Space": "",
    "Local": "rss"
  },
  "Channel": {
    "Title": "Hacker News",
    "Link": "https://news.ycombinator.com/",
    "Description": "Links for the intellectually curious, ranked by readers.",
    "Items": [
      {
        "Title": "Low-Level Optimization with Zig",
        "Link": "https://alloc.dev/2025/06/07/zig_optimization",
        "GUID": "https://alloc.dev/2025/06/07/zig_optimization",
        "Description": "\u003cdiv readability=\"29.420338983051\"\u003e\n\n\u003cp\u003e\"Beware of the \u003ca href=\"https://en.wikipedia.org/wiki/Turing_tarpit\" target=\"_blank\"\u003eTuring tar-pit\u003c/a\u003e in which everything is possibile, but nothing of interest is easy.\" - Alan Perlis 1982\u003c/p\u003e\n\u003cp\u003eWhat is of interest to you? Many things, I am certain. One such topic that I am constantly intrigued by is program optimization. Whether you are looking to \u003ca href=\"https://youtu.be/KzT9I1d-LlQ\" target=\"_blank\"\u003ecompute the largest fibonacci number\u003c/a\u003e in one second, or creating the \u003ca href=\"https://tigerbeetle.com/\" target=\"_blank\"\u003efastest financial transaction database\u003c/a\u003e ever written, or even just \u003ca href=\"https://gaultier.github.io/blog/lessons_learned_from_a_successful_rust_rewrite.html\" target=\"_blank\"\u003erewriting something in rust\u003c/a\u003e, you likely know how rewarding optimization can be.\u003c/p\u003e\n\u003cp\u003eOptimization separates the weak from the fast. Optimization isn't a thing of the past. Advances in technology shape the form of our programs, but don't negate the need to optimize. Well optimized programs save money, enable higher-tier scaling opportunities, and preserve system simplicity. Would you rather spend thousands to run shoddy code on autoscaling cloud infrastructure, or write better code, letting you use a handful of mid-tier servers at reduced latency and cost?\u003c/p\u003e\n\u003cp\u003eIn this article I aim to explain the concept of low-level optimization, and why Zig is particularly well suited for it. If you enjoy what you read, please consider \u003ca href=\"https://www.paypal.com/donate/?business=2Z3H3UQA37LML\u0026amp;no_recurring=0\u0026amp;item_name=Like+what+you+see?+A+dollar+or+two+will+help+me+learn+and+publish+more+-+Thanks!\u0026amp;currency_code=USD\" target=\"_blank\"\u003esupporting me\u003c/a\u003e :)\u003c/p\u003e\n\u003cimg src=\"https://alloc.dev/2025/06/07/servers.webp\" width=\"100%\"\u003e\u003c/div\u003e\u003cdiv id=\"trust_compiler\" readability=\"73.557086614173\"\u003e\n\u003ch2\u003eTrust the compiler?\u003c/h2\u003e\n\u003cp\u003eSome people would say \"trust the compiler, it knows best.\" It sure does, for most low-level situations! Optimizing compilers have come a long ways. Increased system resources and \u003ca href=\"https://blog.vortan.dev/ematching\" target=\"_blank\"\u003eadvances in IR transformations\u003c/a\u003e have enabled compiler backends like \u003ca href=\"https://github.com/llvm/llvm-project\" target=\"_blank\"\u003eLLVM\u003c/a\u003e to deliver \u003ca href=\"https://blog.matthieud.me/2020/exploring-clang-llvm-optimization-on-programming-horror/\" target=\"_blank\"\u003eimpressive results\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eCompilers are complicated beasts. The best optimizing backends will still \u003ca href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,selection:(endColumn:2,endLineNumber:7,positionColumn:2,positionLineNumber:7,selectionStartColumn:2,selectionStartLineNumber:7,startColumn:2,startLineNumber:7),source:'const+std+%3D+@import(%22std%22)%3B%0A%0Aexport+fn+makeArray()+%5B*%5Du8+%7B%0A++++var+list+%3D+std.ArrayListUnmanaged(u8).initCapacity(std.heap.c_allocator,+1)+catch+unreachable%3B%0A++++list.appendAssumeCapacity(123)%3B%0A++++return+list.items.ptr%3B%0A%7D'),l:'5',n:'0',o:'Zig+source+%231',t:'0')),k:50.12184508268059,l:'4',m:100,n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:z0141,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,libs:!(),options:'-O+ReleaseFast+-fomit-frame-pointer+-mcpu+x86_64_v3+-lc',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+zig+0.14.1+(Editor+%231)',t:'0')),k:49.878154917319414,l:'4',m:100,n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4\" target=\"_blank\"\u003egenerate sub\u003c/a\u003e-\u003ca href=\"https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAMzwBtMA7AQwFtMQByARg9KtQYEAysib0QXACx8BBAKoBnTAAUAHpwAMvAFYTStJg1AAvPMFJL6yAngGVG6AMKpaAVxYMJAdlIOAMngMmABy7gBGmMR6AA6oCoS2DM5uHt6ksfE2AgFBoSwRUVwWmFZZDEIETMQEye6eXD6WmNaJFVUEOSHhkXoKldW1qQ0W/R2BXfk9XACUFqiuxMjsHAD0KwDUAOoIAJ7reArrhuuYqtG0eMiE6zQMhJjrfUwED0yuRCzPAuuo0TYseGMmHQ6wiBBexFBez8fgAagBZACkAGYAGKIjQAQQxmNOsWqNwY63oTGiAE1MFVMRAdpSoutXMiAEzTUGoFzrRFeABCOPW/JuCiYIEeAHdCMgEOsIAABJgKCCMpmkdYaaasrm8rECnWqznIgAiKOwnJ5fN1FrwVGltKqnKZAFZ1pJ9UbDaqNWbtRaffy0IJAq4HiAqEL1lwUVrMb6dVyDSdaEpTVGYz7/TYGEH1iGw5JI%2BbU3GC7q46RizquK7jcnyz6rTa6fanVwNBoq%2B61TXvamdenA8HQ0x1kz892Y3GE0nNbXU33MwOw8jR9Ge0Wx7GvAay%2BuBUz2ybpzvLdaaY3EY7na32/HO4eVz2BXOszmh0vkSnV5vJw87w/e7J%2B2zQdnWXB813vEtN23CCdWRfd1mITACAWIkCGIINoN9F0UTdE1EOQ4giSoMQlEwn0SinQ1q1cBhEKYSUmDCegyP5cC2KxPESAIQliUpck6W5U8qhFJVWTCdlaC7CD6yEyFzydbCqI7T0P2PBs7Xk8MrxwnCPSkh8ZNtOSL0kK8wDAXTby9GCe3wlCbhIzBQM/I0j1NVybP5OzCPWNCg2c1jN2LbyiMc5c4w4WZaE4B1eE8DgtFIVBOAALTMR55kWH8mWRHhSAITRItmABrEBJAATgAOkkAA2DRkQ0JkvHK8qauRZFJGkaKOEkOLCqSzheAUEANHywrZjgWAkDQFhojoSJyEoGa5voKJjA0KQihoWgIWGiAwn6sJAiqHZODyo7mGIHYAHkwm0ZoCu4XgZrYQRroYWhToS3gsDCVxgEcMREzOn7ME%2BIxxG%2B0h8EQloADdMGGqHTmad5ljywIXm6xKLjCYgTucLB%2BrQvAWBB0gEeIcSlANMHDGAC4jHGvgDGABRYTwTBRWu6JGHJ/hBBEMR2CkGRBEUFR1Ch3QigMJnTHMXHhsgWZfjKJGAFproAJRKSklCET5aEkjX%2BABAhTfxtgNdiTHIl4VBKeIPAsGViBZiaFo7AgBxBnqXwGHQTo8gKGI4gSAQ/bDzJEmD7pCmKUpWlGKOik9so2mqOPJgTp4BhcOpelGbPQ5mOYFiWCQopivqoeSjh1gV1VKqkFvpVwQgSHtXLpl4R6tHVUhSodDRKodZFWvKrwmVbZEapqh0fG63rSHixL66Gkaxu%2BwfuqZWv18G7eB9mSn4jsSQgA%3D\" target=\"_blank\"\u003epar code\u003c/a\u003e in some cases. In fact, even state-of-art compilers will \u003ca href=\"https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAMzwBtMA7AQwFtMQByARg9KtQYEAysib0QXACx8BBAKoBnTAAUAHpwAMvAFYTStJg1AB9U8lJL6yAngGVG6AMKpaAVxYMQAJlIOAMngMmABy7gBGmMQSPgAOqAqEtgzObh7epHEJNgIBQaEsEVFcPpaY1klCBEzEBCnuniWYVtkMldUEuSHhkdEWVTV1aSX9HYFdBT3FAJQWqK7EyOwcAKReAMyByG5YANTLa44KBPiCAHQI%2B9jLGgCC1zcAbqh46Du0qKgxAOKoAELEAOIEFcgQIay8xgIO1UUz2AHZfvcdsidiDBODITs8Hs1gARaH7RG3FE7ADuCDomB2EGx%2B0c%2B3xMPhRJuJJJAHp2TsAJJUaFYhQ7YDETBMAiRHYEBCGHYaVRUBWKqgAVlIOyY6BOwB2XA0ktQWLJc1orzEpKYAE9BSKFK5aAQkWzkZysQx1TsFCwxPRiDsHmJXFT0IH9TtUA9IlR3qSdgBaHY2u02Iyu9VuwI0BiEKnvT6nR1Ol2OMAcQUKGJlPA0UQtdW0aOC8OR6Nht2uBgJYBBV6gzDASIKNUKA1bQzavAKAtsl0PWwGZPaqVUxweivIHYISKYfPEp2G1aIvE6jSEqfLOG4%2B7n3EcGa0TjK3ieDhaUioTgr4fzRZ7dY8UgEJot4zJuGo9BAMwANYgMqGj6JwkhPkBb6cLwCggHBgEvrepBwLAMCICgqAsDElJkBQEBoCRZEoMAXDKlwfB0OKxDoRAYTIWEgTVBanD/lxzDEBaADyYTaGUWH/lRbCCMJDC0Lx2GkFgYSuMAjjeuh3C8FgXpGOISn4CK5QRlpr6YKoZSuOKfG8L295KbQeBhMQPHOFgyEEMQeAsLZpARsQYTxJguKYHpwBOUYQEzFGTDAAoABqeCYKSwkVs%2B/78IIIhiOwUgyIIigqOoSm6IxBhRaYxjmE5YToZAMyfC0WmxsJay8E2AIvJg9UQRYTQSUk9gME4Lj1Ho/hjPkhR6JkiQCIMniMXNLSdNNkz9c0FQjIteilOUAhtDUa3dEUfTtLtjFHO0J0TEUMxfgseV3g%2BSFKe%2BHDQgAHAAbLGP2SEKyDrvRpxcNSuCECQv5rFwUy8FhWhTCBopYFEfXQbB8EcIhpC%2BVjz6vh9aEYQB0W4QREBIFRpE%2BuQlA0zRwMVcAXgaLqTH2gOlAcUpAk8X5/NCaJ4nWH50mMAQckKchKlqRp9Zaf%2BuljgZr5GYNpnIRZVk2dp5CCE0yG1a5QnuUsr5eT5fkBUFSiheFkWgNhMUGPFSUpWljB%2BVlwiiOI%2BW%2B0VajIboPgsyAVU1c5vWNTEzWcK17VvgF3lYLHm2DXYEAOJdvgjbdM3LfE83JGNaTF1kSSFxt%2B0tEdtTl0tmcHa0Iw12d10DE3e3t1Np0SA9cxPYP2OPqQhMdZw31/QDOyjimbNg6ceoQJDRC%2BqssPw2TLso2B6MvTjvD43Bk8oRwJOYdFUEwXBDnJ%2BfxO70jR9eG9ROoS/wH%2BQOQ2SEAA\" target=\"_blank\"\u003ebreak language specifications\u003c/a\u003e (\u003ca href=\"https://github.com/llvm/llvm-project/issues/143046\" target=\"_blank\"\u003eClang assumes\u003c/a\u003e that all loops without side effects will terminate). It is up to us to give our compilers as much information as possible, and verify that the compiler is functioning correctly. In the case of most low-level languages, you can generally massage your code until the compiler realizes it can apply a certain transform. In other situations, it's not so easy.\u003c/p\u003e\n\u003cp\u003eWhy are low-level languages generally more performant? You might think the reason is that high level languages are doing a lot of extra work, such as garbage collection, string interning, interpreting code, etc. While you are right, this isn't *entirely* complete. High level languages lack something that low level languages have in great adundance - intent.\u003c/p\u003e\n\u003cp\u003eThe verbosity of low level programming languages enable us to produce code that the compiler can reason about very well. As an example, consider the following JavaScript code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-js\"\u003efunction maxArray(x, y) {\n    for (let i = 0; i \u0026lt; 65536; i++) {\n        x[i] = y[i] \u0026gt; x[i] ? y[i] : x[i];\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAs humans, we can interpret this code as setting the values in \u003ccode\u003ex\u003c/code\u003e as the maximum of \u003ccode\u003ex\u003c/code\u003e and \u003ccode\u003ey\u003c/code\u003e. The \u003ca href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:javascript,selection:(endColumn:51,endLineNumber:15,positionColumn:51,positionLineNumber:15,selectionStartColumn:51,selectionStartLineNumber:15,startColumn:51,startLineNumber:15),source:'function+maxArray(x,+y)+%7B%0A++++for+(let+i+%3D+0%3B+i+%3C+65536%3B+i%2B%2B)+%7B%0A++++++++x%5Bi%5D+%3D+y%5Bi%5D+%3E+x%5Bi%5D+%3F+y%5Bi%5D+:+x%5Bi%5D%3B%0A++++%7D%0A%7D%0A%0Alet+arrA+%3D+new+Float64Array(65536).fill(1)%3B+//+all+1s%0Alet+arrB+%3D+new+Float64Array(65536).fill(2)%3B+//+all+2s%0A%0A//+Prepare+and+warm+up+the+function%0A%25PrepareFunctionForOptimization(maxArray)%3B%0AmaxArray(arrA,+arrB)%3B++++++//+Fill+type+feedback%0AmaxArray(arrA,+arrB)%3B++++++//+Stabilize+into+monomorphic%0A%25OptimizeFunctionOnNextCall(maxArray)%3B%0AmaxArray(arrA,+arrB)%3B++++++//+Trigger+optimization'),l:'5',n:'0',o:'Javascript+source+%231',t:'0')),k:49.48081530907177,l:'4',m:100,n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:v8trunk,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:javascript,libs:!(),options:'',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+v8+(trunk)+(Editor+%231)',t:'0')),header:(),k:50.51918469092824,l:'4',m:100,n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4\" target=\"_blank\"\u003egenerated bytecode\u003c/a\u003e for this JavaScript (under V8) is pretty bloated. As a comparison, here is what the function might look like if it were written in Zig:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-zig\"\u003efn maxArray(\n    noalias x: *align(64) [65536]f64,\n    y: *align(64) const [65536]f64,\n) void {\n    for (x, y, 0..) |a, b, i| {\n        x[i] = if (b \u0026gt; a) b else a;\n    }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn this more verbose language, we can tell the compiler additional information about our code. For example, the optimizer now knows about alignment, aliasing requirements, array sizes, and array element types - all at compile-time. Using this information, the compiler generates \u003ca href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,selection:(endColumn:2,endLineNumber:8,positionColumn:2,positionLineNumber:8,selectionStartColumn:2,selectionStartLineNumber:8,startColumn:2,startLineNumber:8),source:'export+fn+maxArray(%0A++++noalias+x:+*align(64)+%5B65536%5Df64,%0A++++y:+*align(64)+const+%5B65536%5Df64,%0A)+void+%7B%0A++++for+(x,+y,+0..)+%7Ca,+b,+i%7C+%7B%0A++++++++x%5Bi%5D+%3D+if+(b+%3E+a)+b+else+a%3B%0A++++%7D%0A%7D'),l:'5',n:'0',o:'Zig+source+%231',t:'0')),k:54.464285714285715,l:'4',m:100,n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:z0141,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,libs:!(),options:'-OReleaseFast+-mcpu%3Dznver5+-fomit-frame-pointer',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+zig+0.14.1+(Editor+%231)',t:'0')),header:(),k:45.5357142857143,l:'4',m:100,n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4\" target=\"_blank\"\u003efar superior, even vectorized\u003c/a\u003e code. If you were wondering, \u003ca href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:rust,selection:(endColumn:17,endLineNumber:10,positionColumn:17,positionLineNumber:10,selectionStartColumn:17,selectionStartLineNumber:10,startColumn:17,startLineNumber:10),source:'%23%5Brepr(align(64))%5D%0Apub+struct+Aligned%3CT:+%3FSized%3E(T)%3B%0A%0Apub+fn+max_array(x:+%26mut+Aligned%3C%5Bf64%3B+65536%5D%3E,+y:+%26Aligned%3C%5Bf64%3B+65536%5D%3E)+%7B%0A++++for+(x,+y)+in+x.0.iter_mut().zip(y.0.iter())+%7B%0A++++++++*x+%3D+if+*y+%3E+*x+%7B+*y+%7D+else+%7B+*x+%7D%3B%0A++++%7D%0A%7D%0A%0Apub+fn+main()+%7B%7D'),l:'5',n:'0',o:'Rust+source+%231',t:'0')),k:54.464285714285715,l:'4',m:100,n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:r1870,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:rust,libs:!(),options:'-C+opt-level%3D3+-C+target-cpu%3Dznver5',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+rustc+1.87.0+(Editor+%231)',t:'0')),header:(),k:45.5357142857143,l:'4',m:100,n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4\" target=\"_blank\"\u003eequivalent Rust code\u003c/a\u003e generates near identical assembly.\u003c/p\u003e\n\u003cp\u003eSo can we *really* trust our compilers? It depends. Are you looking to uncover transformations to triple the throughput of your program's performance bottleneck? You should probably look at what the compiler is doing, and figure out if there are better ways to express *your intent* to the compiler. You may need to tweak the code to get the transforms you want. In the worst cases, you may discover that the compiler isn't applying optimal transforms to your code. In these cases, you may need to write inline assembly to squeeze out that last drop.\u003c/p\u003e\n\u003cp\u003eBut what about high level code? Except for \u003ca href=\"https://spiral.net/\" target=\"_blank\"\u003eniche cases\u003c/a\u003e, the most we can do is \u003ca href=\"https://github.com/llvm/llvm-project/tree/main/polly\" target=\"_blank\"\u003ereason about loops\u003c/a\u003e. In other words, compilers cannot change our algorithms and optimize our paradigms. Their scope is relatively narrow.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv id=\"what_about_zig\" readability=\"25.961456102784\"\u003e\n\u003ch2\u003eSo where does Zig fall?\u003c/h2\u003e\n\u003cp\u003eI love Zig for it's verbosity. Due to this verbosity, it's easier to write more performant programs than with most other languages. With Zig's \u003ca href=\"https://ziglang.org/documentation/master/#Builtin-Functions\" target=\"_blank\"\u003ebuiltin functions\u003c/a\u003e, non-optional \u003ca href=\"https://ziglang.org/documentation/master/#Pointers\" target=\"_blank\"\u003epointers\u003c/a\u003e, \u003ca href=\"https://ziglang.org/documentation/master/#unreachable\" target=\"_blank\"\u003e\u003ccode\u003eunreachable\u003c/code\u003e keyword\u003c/a\u003e, well chosen \u003ca href=\"https://ziglang.org/documentation/master/#Illegal-Behavior\" target=\"_blank\"\u003eillegal behavior\u003c/a\u003e, Zig's excellent \u003ca href=\"https://ziglang.org/documentation/master/#comptime\" target=\"_blank\"\u003ecomptime\u003c/a\u003e... LLVM is practically spoon-fed information about our code.\u003c/p\u003e\n\u003cp\u003eIt isn't all rainbows though, there are tradeoffs. For example, Rust's memory model allows the compiler to always assume that function arguments never alias. You must manually specify this in Zig. If the compiler can't tell that your Zig function is always called with non-aliasing arguments, Rust functions will outperform the non-annotated Zig functions.\u003c/p\u003e\n\u003cp\u003eIf we take in well-annotated LLVM IR as the *only* metric of a language's optimization capability, then Zig does well. This is not all that Zig has up it's sleeves. Zig's true optimization superpower lies in compile-time execution.\u003c/p\u003e\n\u003cimg src=\"https://alloc.dev/2025/06/07/gotta_go_fast.webp\" alt=\"speedily (poorly) drawn lizard with a space helmet\" width=\"100%\"\u003e\u003c/div\u003e\n\u003cdiv id=\"what_is_comptime\" readability=\"46.743520700101\"\u003e\n\u003ch2\u003eWhat is \u003ccode\u003ecomptime\u003c/code\u003e?\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://ziglang.org/documentation/master/#comptime\" target=\"_blank\"\u003eZig's \u003ccode\u003ecomptime\u003c/code\u003e\u003c/a\u003e is all about code generation. Do you want to use a constant in your code? You can generate it at compile-time and the value will be embedded in the produced binary. Do you want to avoid writing the same \u003ca href=\"https://en.wikipedia.org/wiki/Hash_table\" target=\"_blank\"\u003ehashmap structure\u003c/a\u003e for each type of data it can store? \u003ccode\u003ecomptime\u003c/code\u003e has your back. Do you have data which is known at compile-time, and want the optimizer to elide code using this data? Yes, \u003ca href=\"https://www.scottredig.com/blog/bonkers_comptime/\" target=\"_blank\"\u003eyou can do this\u003c/a\u003e with \u003ccode\u003ecomptime\u003c/code\u003e. Zig's \u003ccode\u003ecomptime\u003c/code\u003e is an example of \u003ca href=\"https://en.wikipedia.org/wiki/Metaprogramming\"\u003emetaprogramming\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eSo how is this different from macros? It's pretty nuanced. The purpose of \u003ccode\u003ecomptime\u003c/code\u003e is essentially the same as macros. Some macros will modify the raw text of your code, and others can modify your program's \u003ca href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" target=\"_blank\"\u003eAST\u003c/a\u003e directly. This allows macros to inline code specific to the types and values of data in your program. In Zig, \u003ccode\u003ecomptime\u003c/code\u003e code is just regular code running at compile-time. This code cannot have side-effects - such as network IO - and the emulated machine will match the compilation target.\u003c/p\u003e\n\u003cp\u003eThe reason that Zig's \u003ccode\u003ecomptime\u003c/code\u003e can match up so well to macros is twofold. Firstly, almost all Zig code can be run at compile-time, using \u003ccode\u003ecomptime\u003c/code\u003e. Secondly, at compile-time, all types can be inspected, reflected, and generated. This is \u003ca href=\"https://ziglang.org/documentation/0.14.1/#Generic-Data-Structures\" target=\"_blank\"\u003ehow generics are implemented\u003c/a\u003e in Zig.\u003c/p\u003e\n\u003cp\u003eThe flexibility of Zig's \u003ccode\u003ecomptime\u003c/code\u003e has resulted in some rather nice improvements in other programming languages. For example, Rust has the \u003ca href=\"https://docs.rs/crabtime/latest/crabtime/\" target=\"_blank\"\u003e\"crabtime\"\u003c/a\u003e crate, which provides more flexibility and power than standard Rust macros. I believe a benefit of \u003ccode\u003ecomptime\u003c/code\u003e over current alternatives lies in how seamlessly \u003ccode\u003ecomptime\u003c/code\u003e fits into the Zig language. Unlike C++'s \u003ccode\u003econstexpr\u003c/code\u003e, you can use \u003ccode\u003ecomptime\u003c/code\u003e without needing to learn a new \"language\" of sorts. C++ \u003ca href=\"https://youtu.be/bIc5ZxFL198\" target=\"_blank\"\u003eis improving\u003c/a\u003e, but it has a long ways to go if it hopes to compete with Zig in this domain.\u003c/p\u003e\n\u003cp\u003eSo can Zig's \u003ccode\u003ecomptime\u003c/code\u003e do *everything* macros can? Nope. Token-pasting macros don't have a mirror in Zig's comptime. Zig is designed to be easy to read, and macros which modify or create variables in a unrelated scopes just don't cut it. Macros can define other macros, macros can alter the AST, and macros can implement mini-languages, or DSLs. Zig's \u003ccode\u003ecomptime\u003c/code\u003e can't directly alter the AST. If you really want to, you can implement a DSL in Zig. For example, Zig's print function \u003ca href=\"https://ziglang.org/documentation/master/#Case-Study-print-in-Zig\" target=\"_blank\"\u003erelies on \u003ccode\u003ecomptime\u003c/code\u003e\u003c/a\u003e to parse the format string. The print function's format string is a DSL of sorts. Based on the format string, Zig's \u003ccode\u003ecomptime\u003c/code\u003e will construct a graph of functions to serialize your data. Here are some other examples of \u003ccode\u003ecomptime\u003c/code\u003e DSLs in the wild: the \u003ca href=\"https://github.com/tigerbeetle/tigerbeetle/blob/main/src/state_machine.zig#L5840\" target=\"_blank\"\u003eTigerBeetle account testing DSL\u003c/a\u003e, \u003ca href=\"https://github.com/InKryption/comath\" target=\"_blank\"\u003ecomath: comptime math\u003c/a\u003e, and \u003ca href=\"https://github.com/ymndoseijin/zilliam\" target=\"_blank\"\u003ezilliam\u003c/a\u003e, a Geometric Algebra library.\u003c/p\u003e\n\u003cp\u003eHere are more resources for learning about Zig's \u003ccode\u003ecomptime\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv id=\"string_comparison\" readability=\"91.280789407944\"\u003e\n\u003ch2\u003eString Comparison with \u003ccode\u003ecomptime\u003c/code\u003e:\u003c/h2\u003e\n\u003cp\u003eHow do you compare two strings? Here's an approach that works in any language:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-js\"\u003efunction stringsAreEqual(a, b) {\n    if (a.length !== b.length) return false;\n    for (let i = 0; i \u0026lt; a.length; i++)\n        if (a[i] !== b[i]) return false;\n    return true;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe know that two strings aren't equal if their lengths aren't equal. We also know that if one byte isn't equal, then the strings as a whole aren't equal. Pretty simple, right? Yes, and the \u003ca href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,selection:(endColumn:2,endLineNumber:14,positionColumn:2,positionLineNumber:14,selectionStartColumn:2,selectionStartLineNumber:14,startColumn:2,startLineNumber:14),source:'const+std+%3D+@import(%22std%22)%3B%0A%0Aexport+fn+isHelloWorldA(str:+%5B*%5Dconst+u8,+len:+usize)+bool+%7B%0A++++const+hello+%3D+%22Hello,+world!!%5Cn%22%3B%0A++++if+(len+!!%3D+hello.len)+return+false%3B%0A++++return+staticEqlA(hello.len,+hello.*,+str)%3B%0A%7D%0A%0Afn+staticEqlA(comptime+len:+usize,+comptime+a:+%5Blen%5Du8,+b:+%5B*%5Dconst+u8)+bool+%7B%0A++++for+(0..len)+%7Cidx%7C+%7B%0A++++++++if+(a%5Bidx%5D+!!%3D+b%5Bidx%5D)+return+false%3B%0A++++%7D%0A++++return+true%3B%0A%7D'),l:'5',n:'0',o:'Zig+source+%231',t:'0')),header:(),k:50,l:'4',m:100,n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:z0141,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,libs:!(),options:'-OReleaseFast+-fomit-frame-pointer+-mcpu%3Dznver5+-target+x86_64-linux',overrides:!(),selection:(endColumn:28,endLineNumber:8,positionColumn:28,positionLineNumber:8,selectionStartColumn:28,selectionStartLineNumber:8,startColumn:28,startLineNumber:8),source:1),l:'5',n:'0',o:'+zig+0.14.1+(Editor+%231)',t:'0')),header:(),k:50,l:'4',n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4\" target=\"_blank\"\u003egenerated assembly\u003c/a\u003e for this function reflects that. There's a slight issue though. We need to load individual bytes from both strings, comparing them individually. It would be nice if there was some way to optimize this. We could use SIMD here, chunking the input strings and comparing them block by block, but we would still be loading from two separate strings. In most cases, we already know one of the strings at compile-time. Can we do better? Yes:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-zig\"\u003efn staticEql(comptime a: []const u8, b: []const u8) bool {\n    if (a.len != b.len) return false;\n    for (0..a.len) |idx| {\n        if (a[idx] != b[idx]) return false;\n    }\n    return true;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe difference here is that one of the strings is required to be known at compile-time. The compiler can use this new information to \u003ca href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,selection:(endColumn:1,endLineNumber:4,positionColumn:1,positionLineNumber:4,selectionStartColumn:1,selectionStartLineNumber:4,startColumn:1,startLineNumber:4),source:'export+fn+isHello(str:+%5B*%5Dconst+u8,+len:+usize)+bool+%7B%0A++++return+staticEql(%22Hello!!%5Cn%22,+str%5B0..len%5D)%3B%0A%7D%0A%0Afn+staticEql(comptime+a:+%5B%5Dconst+u8,+b:+%5B%5Dconst+u8)+bool+%7B%0A++++if+(a.len+!!%3D+b.len)+return+false%3B%0A++++for+(0..a.len)+%7Cidx%7C+%7B%0A++++++++if+(a%5Bidx%5D+!!%3D+b%5Bidx%5D)+return+false%3B%0A++++%7D%0A++++return+true%3B%0A%7D'),l:'5',n:'0',o:'Zig+source+%231',t:'0')),header:(),k:48.0168776371308,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:z0141,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,libs:!(),options:'-OReleaseFast+-fomit-frame-pointer+-mcpu%3Dznver5+-target+x86_64-linux',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+zig+0.14.1+(Editor+%231)',t:'0'),(h:output,i:(compilerName:'zig+trunk',editorid:1,fontScale:14,fontUsePx:'0',j:1,wrap:'1'),l:'5',n:'0',o:'Output+of+zig+0.14.1+(Compiler+%231)',t:'0')),header:(),k:51.983122362869196,l:'4',m:100,n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4\" target=\"_blank\"\u003eproduce improved\u003c/a\u003e assembly code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-asm\"\u003eisHello:\n        cmp     rsi, 7\n        jne     .LBB0_8\n        cmp     byte ptr [rdi], 72\n        jne     .LBB0_8\n        cmp     byte ptr [rdi + 1], 101\n        jne     .LBB0_8\n        cmp     byte ptr [rdi + 2], 108\n        jne     .LBB0_8\n        cmp     byte ptr [rdi + 3], 108\n        jne     .LBB0_8\n        cmp     byte ptr [rdi + 4], 111\n        jne     .LBB0_8\n        cmp     byte ptr [rdi + 5], 33\n        jne     .LBB0_8\n        cmp     byte ptr [rdi + 6], 10\n        sete    al\n        ret\n.LBB0_8:\n        xor     eax, eax\n        ret\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIs this not amazing? We just used \u003ccode\u003ecomptime\u003c/code\u003e to make a function which compares a string against \u003ccode\u003e\"Hello!\\n\"\u003c/code\u003e, and the assembly will run much faster than the naive comparison function. It's unfortunately still not perfect. Because we know the length of the expected string at compile-time, we can compare much larger sections of text at a time, instead of just byte-by-byte:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-zig\"\u003econst std = @import(\"std\");\n\nfn staticEql(comptime a: []const u8, b: []const u8) bool {\n    const block_len = std.simd.suggestVectorLength(u8) orelse @sizeOf(usize);\n\n    // Exit early if the string lengths don't match up\n    if (a.len != b.len) return false;\n\n    // Find out how many large \"blocks\" we can compare at a time\n    const block_count = a.len / block_len;\n    // Find out how many extra bytes we need to compare\n    const rem_count = a.len % block_len;\n\n    // Compare \"block_len\" bytes of text at a time\n    for (0..block_count) |idx| {\n        const Chunk = std.meta.Int(.unsigned, block_len * 8);\n        const a_chunk: Chunk = @bitCast(a[idx * block_len ..][0..block_len].*);\n        const b_chunk: Chunk = @bitCast(b[idx * block_len ..][0..block_len].*);\n        if (a_chunk != b_chunk) return false;\n    }\n\n    // Compare the remainder of bytes in both strings\n    const Rem = std.meta.Int(.unsigned, rem_count * 8);\n    const a_rem: Rem = @bitCast(a[block_count * block_len ..][0..rem_count].*);\n    const b_rem: Rem = @bitCast(b[block_count * block_len ..][0..rem_count].*);\n    return a_rem == b_rem;\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOk, so it's a bit more complex than the first example. Is it worth it though? Yep. The \u003ca href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(filename:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,selection:(endColumn:1,endLineNumber:6,positionColumn:1,positionLineNumber:6,selectionStartColumn:1,selectionStartLineNumber:6,startColumn:1,startLineNumber:6),source:'const+std+%3D+@import(%22std%22)%3B%0A%0Aexport+fn+isHelloWorld(str:+%5B*%5Dconst+u8,+len:+usize)+bool+%7B%0A++++return+staticEql(%22Hello,+World!!%5Cn%22,+str%5B0..len%5D)%3B%0A%7D%0A%0Afn+staticEql(comptime+a:+%5B%5Dconst+u8,+b:+%5B%5Dconst+u8)+bool+%7B%0A++++const+block_len+%3D+std.simd.suggestVectorLength(u8)+orelse+@sizeOf(usize)%3B%0A%0A++++//+Exit+early+if+the+string+lengths+don!'t+match+up%0A++++if+(a.len+!!%3D+b.len)+return+false%3B%0A%0A++++//+Find+out+how+many+large+%22blocks%22+we+can+compare+at+a+time%0A++++const+block_count+%3D+a.len+/+block_len%3B%0A++++//+Find+out+how+many+extra+bytes+we+need+to+compare%0A++++const+rem_count+%3D+a.len+%25+block_len%3B%0A%0A++++//+Compare+%22block_len%22+bytes+of+text+at+a+time%0A++++for+(0..block_count)+%7Cidx%7C+%7B%0A++++++++const+Chunk+%3D+std.meta.Int(.unsigned,+block_len+*+8)%3B%0A++++++++const+a_chunk:+Chunk+%3D+@bitCast(a%5Bidx+*+block_len+..%5D%5B0..block_len%5D.*)%3B%0A++++++++const+b_chunk:+Chunk+%3D+@bitCast(b%5Bidx+*+block_len+..%5D%5B0..block_len%5D.*)%3B%0A++++++++if+(a_chunk+!!%3D+b_chunk)+return+false%3B%0A++++%7D%0A%0A++++//+Compare+the+remainder+of+bytes+in+both+strings%0A++++const+Rem+%3D+std.meta.Int(.unsigned,+rem_count+*+8)%3B%0A++++const+a_rem:+Rem+%3D+@bitCast(a%5Bblock_count+*+block_len+..%5D%5B0..rem_count%5D.*)%3B%0A++++const+b_rem:+Rem+%3D+@bitCast(b%5Bblock_count+*+block_len+..%5D%5B0..rem_count%5D.*)%3B%0A++++return+a_rem+%3D%3D+b_rem%3B%0A%7D'),l:'5',n:'0',o:'Zig+source+%231',t:'0')),header:(),k:56.046814044213264,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:z0141,filters:(b:'0',binary:'1',binaryObject:'1',commentOnly:'0',debugCalls:'1',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'0',trim:'1',verboseDemangling:'0'),flagsViewOpen:'1',fontScale:14,fontUsePx:'0',j:1,lang:zig,libs:!(),options:'-OReleaseFast+-fomit-frame-pointer+-mcpu%3Dznver5+-target+x86_64-linux',overrides:!(),selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'+zig+0.14.1+(Editor+%231)',t:'0'),(h:output,i:(compilerName:'zig+trunk',editorid:1,fontScale:14,fontUsePx:'0',j:1,wrap:'1'),l:'5',n:'0',o:'Output+of+zig+0.14.1+(Compiler+%231)',t:'0')),header:(),k:43.953185955786736,l:'4',m:100,n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4\" target=\"_blank\"\u003egenerated assembly\u003c/a\u003e is much more optimal. Comparing larger chunks utilizes larger registers, and reduces the number of conditional branches in our code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-asm\"\u003eisHelloWorld:\n        cmp     rsi, 14 ; The length of \"Hello, World!\\n\"\n        jne     .LBB0_1\n        movzx   ecx, word ptr [rdi + 12]\n        mov     eax, dword ptr [rdi + 8]\n        movabs  rdx, 11138535027311\n        shl     rcx, 32 ; Don't compare out-of-bounds data\n        or      rcx, rax\n        movabs  rax, 6278066737626506568\n        xor     rax, qword ptr [rdi]\n        xor     rdx, rcx\n        or      rdx, rax ; Both chunks must match\n        sete    al\n        ret\n.LBB0_1:\n        xor     eax, eax\n        ret\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf you try to compare much larger strings, you'll notice that this more advanced function will generate assembly which uses the larger SIMD registers. Just testing against \u003ccode\u003e\"Hello, World!\\n\"\u003c/code\u003e though, you can tell that we \u003ca href=\"https://gist.github.com/RetroDev256/660824008ff5526ea785d8b3659c29f2\" target=\"_blank\"\u003esignificantly improved\u003c/a\u003e the runtime performance of this function. (\u003ccode\u003ea\u003c/code\u003e was the runtime-only function, \u003ccode\u003eb\u003c/code\u003e was the same function where one argument was known at compile-time, and \u003ccode\u003ec\u003c/code\u003e was the more advanced function).\u003c/p\u003e\n\u003cimg src=\"https://alloc.dev/2025/06/07/string_bench.webp\" width=\"100%\" alt=\"basic comptime was 45% faster while advanced comptime was 70% faster\"\u003e\u003c/div\u003e\n\u003cdiv id=\"runtime_at_comptime\" readability=\"17\"\u003e\n\u003ch2\u003eRuntime-known data at \u003ccode\u003ecomptime\u003c/code\u003e:\u003c/h2\u003e\n\u003cp\u003eZig's \u003ccode\u003ecomptime\u003c/code\u003e powers aren't limited to compile-time. You can generate some number of procedures at compile-time for simple cases, and dynamically dispatch to the right procedure, falling-back to a fully runtime implementation if you don't want to bloat your binary:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-zig\"\u003efn dispatchFn(runtime_val: u32) void {\n    switch (runtime_val) {\n        inline 0...100 =\u0026gt; |comptime_val| {\n            staticFn(comptime_val);\n        },\n        else =\u0026gt; runtimeFn(runtime_val),\n    }\n}\n\nfn staticFn(comptime val: u32) void {\n    _ = val; // ...\n}\n\nfn runtimeFn(runtime_val: u32) void {\n    _ = runtime_val; // ...\n}\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv id=\"conclusion\" readability=\"36.452488687783\"\u003e\n\u003ch2\u003eConclusion:\u003c/h2\u003e\n\u003cp\u003eIs \u003ccode\u003ecomptime\u003c/code\u003e useful? I would say so. I use it every time I write Zig code. It fits into the language really well, and removes the need for templates, macros, generics, and manual code generation. Yes, you can do all of this with other languages, but it isn't nearly as clean. Whenever I use Zig, I feel it's easier to write performant code for *actually useful* scenarios. In other words, Zig is not the \"Turing tar-pit\".\u003c/p\u003e\n\u003cp\u003eThe possibilities are \u003ca href=\"https://github.com/RetroDev256/comptime_suffix_automaton\" target=\"_blank\"\u003eonly limited to your imagination\u003c/a\u003e. If you are required to use a language without good generics, code generation, templates, macros, or comptime at your workplace, I feel sorry for you.\u003c/p\u003e\n\u003cp\u003eHopefully you enjoyed this article. If you did, please consider \u003ca href=\"https://www.paypal.com/donate/?business=2Z3H3UQA37LML\u0026amp;no_recurring=0\u0026amp;item_name=Like+what+you+see?+A+dollar+or+two+will+help+me+learn+and+publish+more+-+Thanks!\u0026amp;currency_code=USD\" target=\"_blank\"\u003esupporting me\u003c/a\u003e. On a final note, I think it's time for the language wars to end. Turing completeness is all that we need, and the details fade away when we look for the bigger picture. Does this mean we can't have favorite languages? No, it does not. People will still mistakenly say \"C is faster than Python\", when the language isn't what they are benchmarking. On that note, enjoy this Zig propaganda:\u003c/p\u003e\n\u003ciframe width=\"100%\" src=\"https://www.youtube.com/embed/0Ahr2XWymPk\" title=\"Zig Go Brrrrrr\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"\u003e[embedded content]\u003c/iframe\u003e\u003c/div\u003e\n",
        "PubDate": "",
        "Format": "",
        "Identifier": ""
      },
      {
        "Title": "Why We\u0026#039;re Moving on from Nix",
        "Link": "https://blog.railway.com/p/introducing-railpack",
        "GUID": "https://blog.railway.com/p/introducing-railpack",
        "Description": "\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eToday we’re excited to release\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://railpack.com/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eRailpack\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003e— the next iteration of the Railway builder, developed from the ground up and based on everything we’ve learned from building over 14 million apps with\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://nixpacks.com/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eNixpacks\u003c/span\u003e\u003c/a\u003e\u003cspan class\u003e.\u003c/span\u003e\u003c/p\u003e\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eWe first announced Nixpacks nearly 3 years ago and it quickly became the default way to build images from user code on Railway. While Nixpacks works great for 80% of users, that still left us with 200k Railway users who might encounter limitations daily.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eIt became clear we needed a major builder upgrade to scale our user base from 1M to 100M.\u003c/span\u003e\u003c/p\u003e\n\u003cdiv class=\"flex flex-col mb-4\" readability=\"7\"\u003e\n\u003cdiv class=\"imageContainer w-full\"\u003e\u003cimg alt=\"Cumulative builds with Nixpacks over time\" src=\"https://blog.railway.com/_next/image?url=https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fa63b5cbc-d4d5-4113-9555-0919a5dd0f1f%2F3443225f-edb6-4f88-bb78-243a13f97b9f%2Fscreenshot-2025-03-03-16.03.562x.png%3FX-Amz-Algorithm%3DAWS4-HMAC-SHA256%26X-Amz-Content-Sha256%3DUNSIGNED-PAYLOAD%26X-Amz-Credential%3DASIAZI2LB4666UV2M2O3%252F20250607%252Fus-west-2%252Fs3%252Faws4_request%26X-Amz-Date%3D20250607T134228Z%26X-Amz-Expires%3D3600%26X-Amz-Security-Token%3DIQoJb3JpZ2luX2VjEJ7%252F%252F%252F%252F%252F%252F%252F%252F%252F%252FwEaCXVzLXdlc3QtMiJHMEUCIQC5XfzAAMvZlTZ16SSWeVpZZw%252Bx087HzOpCRsCo58yNugIgPneHYPqY7SF0WHoNk8qVXiWqd22ONwTL%252BZoKu6RcRW4q%252FwMIdxAAGgw2Mzc0MjMxODM4MDUiDCVasxgBFB1gjW5MpSrcA0RtzmKc3izFPwSP8KOXYyi1vUyDvLm6i%252BR%252FoLV3RyAZSuZnY4%252FMTRW7NqZ50rYyCl9UWPeS8a%252F5liI29RwHjkmRqMHIrZLdTc2uc%252FsH1rNFwZS%252FHj3EPWUwxdGvXenMWSMyFbUdN4ZuZoGSRQ%252FmtUCtFxuu5ytXibNAEwWsNjSkOx5JtCehcYrBfEjG9Lvbn%252BTX2Wvkic7hZ6muBn2XSIRyv5UKn7nxmQxTAj%252BLMQraKYw3fy3YhJdIMylthkG4Xu8a1XQIOp1sw3OB%252BGUr%252F584Hj92hztZhhwfxWuLHzxWOzmKaOS7SmLYnBq6CpFF89tnq0Jx1odgrM3CKT3JqAEIxDnAEU%252B8zHr4INxqKusYBRqNUrz%252BP02ZWCswx%252BW7wMrn4dFVreqc4R2VVnZ2gl%252BDvD9rsbXWHIVd0CBEhXuWvsRC32g9LmY7NXnZNWEolq61J%252FM9%252B1yOz20EFpE30kIWdPWrrOscx6hG8FVclorfcRhZwXYMgytjUa4dvsrKZbjmBmd%252B7Ue1S2AC6yDlWQYPhZNyqxpVxy3rUr6%252BCugjPdOqGNw2zjnGKZjLg%252Fmx7FLFsDxMSbYl%252FBKZRZyatfBjcDsmRfpomfcTC5KNm6SK2GjoEqJrjfWoF55VMIOBkcIGOqUBHUQphhvPpV9CNZkwTbeU2tYrhnz%252FWYHlmATnR6A0sPBcyhv6ri80M6K13JPND%252F0qLe4%252Be1JA7QHsmKPb1pe8sfLUZMjy6Cv4un%252FlkeNq8OGZPuh3ifQnX4oOvKBh%252FwRsIknUg%252BE2jZtAlUD34FNZNYjq9ej5byrNzivKfmnrp3reLLkATRJ2erv5hvh6DDP4M%252BVtieqGD6C394iS89Pk5emtAj49%26X-Amz-Signature%3Dcc08b43527ac07413b8be25a1ebe21ba80b2b4deb72d9c26935e082a7234c934%26X-Amz-SignedHeaders%3Dhost%26x-id%3DGetObject\u0026amp;w=3840\u0026amp;q=75\" decoding=\"async\" data-nimg=\"fill\" class=\"nextImage p-0 rounded overflow-hidden\" loading=\"lazy\"\u003e\u003c/div\u003e\n\u003cp class=\"text-gray-600 mt-3 text-sm\"\u003eCumulative builds with Nixpacks over time\u003c/p\u003e\n\u003c/div\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eHere are the highlights of Railpack:\u003c/span\u003e\u003c/p\u003e\n\u003cul class=\"list-disc pl-6 mb-6\"\u003e\u003cli class=\"mb-2\"\u003e\u003cspan class=\"font-semibold\"\u003eGranular Versioning\u003c/span\u003e\u003cspan class\u003e: Support for\u003c/span\u003e \u003ccode class=\"text-pink-600 whitespace-normal break-words\"\u003emajor.minor.patch\u003c/code\u003e \u003cspan class\u003eversions of packages (instead of Nix’s approximate versions)\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class=\"font-semibold\"\u003eSmaller Builds\u003c/span\u003e\u003cspan class\u003e: We’ve been able to reduce image sizes between 38% (Node) and 77% (Python), enabling faster deploys on Railway\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class=\"font-semibold\"\u003eBetter caching\u003c/span\u003e\u003cspan class\u003e: Railpack interfaces directly with\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://github.com/moby/buildkit\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eBuildKit\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003eto control the layers and filesystem, resulting in more cache hits (with sharable caches across environments)\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eYou can opt-in to using Railpack for your builds today.\u003c/span\u003e \u003cspan class\u003eIt is already powering builds for\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"http://railway.com/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003erailway.com\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003eand\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://station.railway.com/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003ecentral station\u003c/span\u003e\u003c/a\u003e\u003cspan class\u003e.\u003c/span\u003e\u003c/p\u003e\n\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eThe biggest problem with Nix is its commit-based package versioning. Only the latest major version of each package is available, with versions tied to specific commits in the\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://github.com/NixOS/nixpkgs\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003enixpkgs repo\u003c/span\u003e\u003c/a\u003e\u003cspan class\u003e. We tried to support every patch version, but it looked like this:\u003c/span\u003e\u003c/p\u003e\n\u003cpre class=\"mb-6\"\u003e\u003ccode\u003econst AVAILABLE_SWIFT_VERSIONS: \u0026amp;[(\u0026amp;str, \u0026amp;str)] = \u0026amp;[\n    // ...\n    (\"5.4\", \"c82b46413401efa740a0b994f52e9903a4f6dcd5\"),\n    (\"5.4.2\", \"c82b46413401efa740a0b994f52e9903a4f6dcd5\"),\n    (\"5.5.2\", \"7592790b9e02f7f99ddcb1bd33fd44ff8df6a9a7\"),\n    (\"5.5.3\", \"7cf5ccf1cdb2ba5f08f0ac29fc3d04b0b59a07e4\"),\n    (\"5.6.2\", \"3c3b3ab88a34ff8026fc69cb78febb9ec9aedb16\"),\n    (\"5.7.3\", \"8cad3dbe48029cb9def5cdb2409a6c80d3acfe2e\"),\n    (\"5.8\", \"9957cd48326fe8dbd52fdc50dd2502307f188b0d\"),\n];\u003c/code\u003e\u003c/pre\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eThis approach isn’t clear or maintainable, especially for contributors unfamiliar with Nix’s version management.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eFor languages like Node and Python, we ended up only supporting their latest major version.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eBut even this was problematic because versions are tied to a single commit SHA. Updating the commit hash to support the latest version of a package meant all other package versions would also update. If a default version changed, there was a high likelihood that a user's build would suddenly fail with unexpected errors.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eWe feel bad when users can't access the latest packages, but feel worse when previously functional builds suddenly fail.\u003c/span\u003e\u003c/p\u003e\n\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eThe way Nixpacks uses Nix to pull in dependencies often results in massive image sizes with a single\u003c/span\u003e \u003ccode class=\"text-pink-600 whitespace-normal break-words\"\u003e/nix/store\u003c/code\u003e \u003cspan class\u003elayer ... all Nix and related packages and libraries needed for\u003c/span\u003e \u003cspan class=\" italic\"\u003eboth\u003c/span\u003e \u003cspan class\u003ethe build and runtime are here.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eWith no way of splitting up the Nix dependencies into separate layers, there was not much we could do to reduce the final image sizes. Not a problem with Nix per se but certainly a problem with how we were using it.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eCaching was also problematic as we had little control over when layer caches were invalidated.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eRailway injects a deployment ID environment variable into all builds. This means that any layers that run after these variables are added to the Dockerfile are always invalidated and can never be cached.\u003c/span\u003e\u003c/p\u003e\n\u003cdiv class=\"flex flex-col mb-4\"\u003e\n\u003cdiv class=\"imageContainer w-full\"\u003e\u003cimg alt=\"Result of running \" src=\"https://blog.railway.com/_next/image?url=https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fa63b5cbc-d4d5-4113-9555-0919a5dd0f1f%2F7742c023-16c3-46df-93fb-2d1d9b0c630d%2Fscreenshot-2025-03-03-19.47.12.png%3FX-Amz-Algorithm%3DAWS4-HMAC-SHA256%26X-Amz-Content-Sha256%3DUNSIGNED-PAYLOAD%26X-Amz-Credential%3DASIAZI2LB4666UV2M2O3%252F20250607%252Fus-west-2%252Fs3%252Faws4_request%26X-Amz-Date%3D20250607T134228Z%26X-Amz-Expires%3D3600%26X-Amz-Security-Token%3DIQoJb3JpZ2luX2VjEJ7%252F%252F%252F%252F%252F%252F%252F%252F%252F%252FwEaCXVzLXdlc3QtMiJHMEUCIQC5XfzAAMvZlTZ16SSWeVpZZw%252Bx087HzOpCRsCo58yNugIgPneHYPqY7SF0WHoNk8qVXiWqd22ONwTL%252BZoKu6RcRW4q%252FwMIdxAAGgw2Mzc0MjMxODM4MDUiDCVasxgBFB1gjW5MpSrcA0RtzmKc3izFPwSP8KOXYyi1vUyDvLm6i%252BR%252FoLV3RyAZSuZnY4%252FMTRW7NqZ50rYyCl9UWPeS8a%252F5liI29RwHjkmRqMHIrZLdTc2uc%252FsH1rNFwZS%252FHj3EPWUwxdGvXenMWSMyFbUdN4ZuZoGSRQ%252FmtUCtFxuu5ytXibNAEwWsNjSkOx5JtCehcYrBfEjG9Lvbn%252BTX2Wvkic7hZ6muBn2XSIRyv5UKn7nxmQxTAj%252BLMQraKYw3fy3YhJdIMylthkG4Xu8a1XQIOp1sw3OB%252BGUr%252F584Hj92hztZhhwfxWuLHzxWOzmKaOS7SmLYnBq6CpFF89tnq0Jx1odgrM3CKT3JqAEIxDnAEU%252B8zHr4INxqKusYBRqNUrz%252BP02ZWCswx%252BW7wMrn4dFVreqc4R2VVnZ2gl%252BDvD9rsbXWHIVd0CBEhXuWvsRC32g9LmY7NXnZNWEolq61J%252FM9%252B1yOz20EFpE30kIWdPWrrOscx6hG8FVclorfcRhZwXYMgytjUa4dvsrKZbjmBmd%252B7Ue1S2AC6yDlWQYPhZNyqxpVxy3rUr6%252BCugjPdOqGNw2zjnGKZjLg%252Fmx7FLFsDxMSbYl%252FBKZRZyatfBjcDsmRfpomfcTC5KNm6SK2GjoEqJrjfWoF55VMIOBkcIGOqUBHUQphhvPpV9CNZkwTbeU2tYrhnz%252FWYHlmATnR6A0sPBcyhv6ri80M6K13JPND%252F0qLe4%252Be1JA7QHsmKPb1pe8sfLUZMjy6Cv4un%252FlkeNq8OGZPuh3ifQnX4oOvKBh%252FwRsIknUg%252BE2jZtAlUD34FNZNYjq9ej5byrNzivKfmnrp3reLLkATRJ2erv5hvh6DDP4M%252BVtieqGD6C394iS89Pk5emtAj49%26X-Amz-Signature%3Dd6106462b907a83d4aaffcc30223f8953cf7e3b49827c1aed674a4f93a9ceed0%26X-Amz-SignedHeaders%3Dhost%26x-id%3DGetObject\u0026amp;w=3840\u0026amp;q=75\" decoding=\"async\" data-nimg=\"fill\" class=\"nextImage p-0 rounded overflow-hidden\" loading=\"lazy\"\u003e\u003c/div\u003e\n\u003cp class=\"text-gray-600 mt-3 text-sm\"\u003eResult of running\u003c/p\u003e\n\u003c/div\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eI want to be clear, we don’t have any problem with Nix itself. But there is a problem with how we were using it.\u003c/span\u003e \u003cspan class\u003eTrying to abstract all the parts of Nix that make Nix… Nix, just fundamentally doesn't work.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eWe don’t want our users to have to understand what a derivation is or why Node 22.14.0 is available on archive version\u003c/span\u003e \u003ccode class=\"text-pink-600 whitespace-normal break-words\"\u003e757d2836919966eef06ed5c4af0647a6f2c297f4\u003c/code\u003e \u003cspan class\u003eof the unstable channel.\u003c/span\u003e\u003c/p\u003e\n\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eTo fix the issues we’ve had with Nixpacks, we built Railpack.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eSince we transitioned away from Nix, we also transitioned away from the name Nixpacks in favor of Railpack. We also changed the codebase from Rust to Go because of the Buildkit libraries.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eHere are some architectural highlights:\u003c/span\u003e\u003c/p\u003e\n\u003cul class=\"list-disc pl-6 mb-6\"\u003e\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eWe generate a custom\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://docs.docker.com/build/buildkit/frontend/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eBuildKit LLB\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003e+\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://docs.docker.com/build/buildkit/frontend/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eFrontend\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003eto give us much more control over how the final image is constructed — resulting in 38% smaller base Node and 77% smaller base Python images compared to building with Nixpacks\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eWe use\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://mise.jdx.dev/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eMise\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003efor version resolution and most package installation, though it leaves room to support other executable sources in the future\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eWe're now able to\u003c/span\u003e \u003cspan class=\" italic\"\u003elock\u003c/span\u003e \u003cspan class\u003ethe dependencies used when a successful build happens. This means that builds won’t break when we update the default Node version from 22 to 24\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eWe improved secret environment variable management. Railpack leverages\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://docs.docker.com/build/building/secrets/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eBuildKit secrets\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003eto prevent variables from appearing in bu\u003c/span\u003e\u003cspan class\u003eild logs or the final image\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eThe Railpack process is split into three parts:\u003c/span\u003e\u003c/p\u003e\n\u003cul class=\"list-disc pl-6 mb-6\"\u003e\u003cli class=\"mb-2\"\u003e\u003cspan class=\"font-semibold\"\u003eAnalyze\u003c/span\u003e\u003cspan class\u003e: Look at the code and determine what packages should be installed, what commands should be run, and what the start command should be\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class=\"font-semibold\"\u003ePlan\u003c/span\u003e\u003cspan class\u003e: Create a build plan in a JSON-serializable format that contains several steps, each with inputs derived from other steps or entire images.\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class=\"font-semibold\"\u003eGenerates\u003c/span\u003e\u003cspan class\u003e: Construct a BuildKit build graph based on the inputs and outputs from the plan.\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\u003cdiv class=\"flex flex-col mb-4\"\u003e\n\u003cdiv class=\"imageContainer w-full\"\u003e\u003cimg alt src=\"https://blog.railway.com/_next/image?url=https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fa63b5cbc-d4d5-4113-9555-0919a5dd0f1f%2F71c76c2a-482f-421c-9040-cf49c487a79f%2Fscreenshot-2025-03-04-11.04.20.png%3FX-Amz-Algorithm%3DAWS4-HMAC-SHA256%26X-Amz-Content-Sha256%3DUNSIGNED-PAYLOAD%26X-Amz-Credential%3DASIAZI2LB4666UV2M2O3%252F20250607%252Fus-west-2%252Fs3%252Faws4_request%26X-Amz-Date%3D20250607T134228Z%26X-Amz-Expires%3D3600%26X-Amz-Security-Token%3DIQoJb3JpZ2luX2VjEJ7%252F%252F%252F%252F%252F%252F%252F%252F%252F%252FwEaCXVzLXdlc3QtMiJHMEUCIQC5XfzAAMvZlTZ16SSWeVpZZw%252Bx087HzOpCRsCo58yNugIgPneHYPqY7SF0WHoNk8qVXiWqd22ONwTL%252BZoKu6RcRW4q%252FwMIdxAAGgw2Mzc0MjMxODM4MDUiDCVasxgBFB1gjW5MpSrcA0RtzmKc3izFPwSP8KOXYyi1vUyDvLm6i%252BR%252FoLV3RyAZSuZnY4%252FMTRW7NqZ50rYyCl9UWPeS8a%252F5liI29RwHjkmRqMHIrZLdTc2uc%252FsH1rNFwZS%252FHj3EPWUwxdGvXenMWSMyFbUdN4ZuZoGSRQ%252FmtUCtFxuu5ytXibNAEwWsNjSkOx5JtCehcYrBfEjG9Lvbn%252BTX2Wvkic7hZ6muBn2XSIRyv5UKn7nxmQxTAj%252BLMQraKYw3fy3YhJdIMylthkG4Xu8a1XQIOp1sw3OB%252BGUr%252F584Hj92hztZhhwfxWuLHzxWOzmKaOS7SmLYnBq6CpFF89tnq0Jx1odgrM3CKT3JqAEIxDnAEU%252B8zHr4INxqKusYBRqNUrz%252BP02ZWCswx%252BW7wMrn4dFVreqc4R2VVnZ2gl%252BDvD9rsbXWHIVd0CBEhXuWvsRC32g9LmY7NXnZNWEolq61J%252FM9%252B1yOz20EFpE30kIWdPWrrOscx6hG8FVclorfcRhZwXYMgytjUa4dvsrKZbjmBmd%252B7Ue1S2AC6yDlWQYPhZNyqxpVxy3rUr6%252BCugjPdOqGNw2zjnGKZjLg%252Fmx7FLFsDxMSbYl%252FBKZRZyatfBjcDsmRfpomfcTC5KNm6SK2GjoEqJrjfWoF55VMIOBkcIGOqUBHUQphhvPpV9CNZkwTbeU2tYrhnz%252FWYHlmATnR6A0sPBcyhv6ri80M6K13JPND%252F0qLe4%252Be1JA7QHsmKPb1pe8sfLUZMjy6Cv4un%252FlkeNq8OGZPuh3ifQnX4oOvKBh%252FwRsIknUg%252BE2jZtAlUD34FNZNYjq9ej5byrNzivKfmnrp3reLLkATRJ2erv5hvh6DDP4M%252BVtieqGD6C394iS89Pk5emtAj49%26X-Amz-Signature%3D67f294fc307f331544719bdfd06f247ceaf1e45a5c7d441a9ffb0aa7848ca781%26X-Amz-SignedHeaders%3Dhost%26x-id%3DGetObject\u0026amp;w=3840\u0026amp;q=75\" decoding=\"async\" data-nimg=\"fill\" class=\"nextImage p-0 rounded overflow-hidden\" loading=\"lazy\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eWhile Dockerfiles are very linear in nature, BuildKit graphs are extremely paralle\u003c/span\u003e\u003cspan class\u003el. Each command runs in its own stage of a multi-stage build and provide precise control over the input layers and how the final file system is assembled.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eRailpack analyzes the code and generates a build plan of all the necessary steps needed to build.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eEach step specifically defines what previous step or image is required — a format that is much lower-level than what was used in Nixpacks. This plan is then turned into a graph in LLB format and solved.\u003c/span\u003e\u003c/p\u003e\n\u003cdiv class=\"flex flex-col mb-4\"\u003e\n\u003cdiv class=\"imageContainer w-full\"\u003e\u003cimg alt src=\"https://blog.railway.com/_next/image?url=https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fa63b5cbc-d4d5-4113-9555-0919a5dd0f1f%2F6970664a-bd6f-49f3-9360-ad8f8a4f3c41%2Fscreenshot-2025-03-04-11.01.32.png%3FX-Amz-Algorithm%3DAWS4-HMAC-SHA256%26X-Amz-Content-Sha256%3DUNSIGNED-PAYLOAD%26X-Amz-Credential%3DASIAZI2LB4666UV2M2O3%252F20250607%252Fus-west-2%252Fs3%252Faws4_request%26X-Amz-Date%3D20250607T134228Z%26X-Amz-Expires%3D3600%26X-Amz-Security-Token%3DIQoJb3JpZ2luX2VjEJ7%252F%252F%252F%252F%252F%252F%252F%252F%252F%252FwEaCXVzLXdlc3QtMiJHMEUCIQC5XfzAAMvZlTZ16SSWeVpZZw%252Bx087HzOpCRsCo58yNugIgPneHYPqY7SF0WHoNk8qVXiWqd22ONwTL%252BZoKu6RcRW4q%252FwMIdxAAGgw2Mzc0MjMxODM4MDUiDCVasxgBFB1gjW5MpSrcA0RtzmKc3izFPwSP8KOXYyi1vUyDvLm6i%252BR%252FoLV3RyAZSuZnY4%252FMTRW7NqZ50rYyCl9UWPeS8a%252F5liI29RwHjkmRqMHIrZLdTc2uc%252FsH1rNFwZS%252FHj3EPWUwxdGvXenMWSMyFbUdN4ZuZoGSRQ%252FmtUCtFxuu5ytXibNAEwWsNjSkOx5JtCehcYrBfEjG9Lvbn%252BTX2Wvkic7hZ6muBn2XSIRyv5UKn7nxmQxTAj%252BLMQraKYw3fy3YhJdIMylthkG4Xu8a1XQIOp1sw3OB%252BGUr%252F584Hj92hztZhhwfxWuLHzxWOzmKaOS7SmLYnBq6CpFF89tnq0Jx1odgrM3CKT3JqAEIxDnAEU%252B8zHr4INxqKusYBRqNUrz%252BP02ZWCswx%252BW7wMrn4dFVreqc4R2VVnZ2gl%252BDvD9rsbXWHIVd0CBEhXuWvsRC32g9LmY7NXnZNWEolq61J%252FM9%252B1yOz20EFpE30kIWdPWrrOscx6hG8FVclorfcRhZwXYMgytjUa4dvsrKZbjmBmd%252B7Ue1S2AC6yDlWQYPhZNyqxpVxy3rUr6%252BCugjPdOqGNw2zjnGKZjLg%252Fmx7FLFsDxMSbYl%252FBKZRZyatfBjcDsmRfpomfcTC5KNm6SK2GjoEqJrjfWoF55VMIOBkcIGOqUBHUQphhvPpV9CNZkwTbeU2tYrhnz%252FWYHlmATnR6A0sPBcyhv6ri80M6K13JPND%252F0qLe4%252Be1JA7QHsmKPb1pe8sfLUZMjy6Cv4un%252FlkeNq8OGZPuh3ifQnX4oOvKBh%252FwRsIknUg%252BE2jZtAlUD34FNZNYjq9ej5byrNzivKfmnrp3reLLkATRJ2erv5hvh6DDP4M%252BVtieqGD6C394iS89Pk5emtAj49%26X-Amz-Signature%3D154fec764d2e3e057067138ecec8412a0ab18b2084d8afd9f6283cbadb8554cb%26X-Amz-SignedHeaders%3Dhost%26x-id%3DGetObject\u0026amp;w=3840\u0026amp;q=75\" decoding=\"async\" data-nimg=\"fill\" class=\"nextImage p-0 rounded overflow-hidden\" loading=\"lazy\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eBuildKit starts at the end and works backwards, pulling from the cache if possible or running the commands to resolve each requested layer.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eTo invalidate layers when specific environment variables change, Railpack will hash the used variable values and mount a file with the hash to an input filesystem. If the code and used variables don’t change, the layer cache will be hit.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eRailpack can therefore fully define how an image is made.\u003c/span\u003e\u003c/p\u003e\n\u003cdiv class=\"flex flex-col mb-4\" readability=\"7\"\u003e\n\u003cdiv class=\"imageContainer w-full\"\u003e\u003cimg alt=\"Deploy inputs for a static Vite build\" src=\"https://blog.railway.com/_next/image?url=https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fa63b5cbc-d4d5-4113-9555-0919a5dd0f1f%2F85b1bd44-6d03-41f3-bca2-ceaaddd628de%2Fimage.png%3FX-Amz-Algorithm%3DAWS4-HMAC-SHA256%26X-Amz-Content-Sha256%3DUNSIGNED-PAYLOAD%26X-Amz-Credential%3DASIAZI2LB4666UV2M2O3%252F20250607%252Fus-west-2%252Fs3%252Faws4_request%26X-Amz-Date%3D20250607T134228Z%26X-Amz-Expires%3D3600%26X-Amz-Security-Token%3DIQoJb3JpZ2luX2VjEJ7%252F%252F%252F%252F%252F%252F%252F%252F%252F%252FwEaCXVzLXdlc3QtMiJHMEUCIQC5XfzAAMvZlTZ16SSWeVpZZw%252Bx087HzOpCRsCo58yNugIgPneHYPqY7SF0WHoNk8qVXiWqd22ONwTL%252BZoKu6RcRW4q%252FwMIdxAAGgw2Mzc0MjMxODM4MDUiDCVasxgBFB1gjW5MpSrcA0RtzmKc3izFPwSP8KOXYyi1vUyDvLm6i%252BR%252FoLV3RyAZSuZnY4%252FMTRW7NqZ50rYyCl9UWPeS8a%252F5liI29RwHjkmRqMHIrZLdTc2uc%252FsH1rNFwZS%252FHj3EPWUwxdGvXenMWSMyFbUdN4ZuZoGSRQ%252FmtUCtFxuu5ytXibNAEwWsNjSkOx5JtCehcYrBfEjG9Lvbn%252BTX2Wvkic7hZ6muBn2XSIRyv5UKn7nxmQxTAj%252BLMQraKYw3fy3YhJdIMylthkG4Xu8a1XQIOp1sw3OB%252BGUr%252F584Hj92hztZhhwfxWuLHzxWOzmKaOS7SmLYnBq6CpFF89tnq0Jx1odgrM3CKT3JqAEIxDnAEU%252B8zHr4INxqKusYBRqNUrz%252BP02ZWCswx%252BW7wMrn4dFVreqc4R2VVnZ2gl%252BDvD9rsbXWHIVd0CBEhXuWvsRC32g9LmY7NXnZNWEolq61J%252FM9%252B1yOz20EFpE30kIWdPWrrOscx6hG8FVclorfcRhZwXYMgytjUa4dvsrKZbjmBmd%252B7Ue1S2AC6yDlWQYPhZNyqxpVxy3rUr6%252BCugjPdOqGNw2zjnGKZjLg%252Fmx7FLFsDxMSbYl%252FBKZRZyatfBjcDsmRfpomfcTC5KNm6SK2GjoEqJrjfWoF55VMIOBkcIGOqUBHUQphhvPpV9CNZkwTbeU2tYrhnz%252FWYHlmATnR6A0sPBcyhv6ri80M6K13JPND%252F0qLe4%252Be1JA7QHsmKPb1pe8sfLUZMjy6Cv4un%252FlkeNq8OGZPuh3ifQnX4oOvKBh%252FwRsIknUg%252BE2jZtAlUD34FNZNYjq9ej5byrNzivKfmnrp3reLLkATRJ2erv5hvh6DDP4M%252BVtieqGD6C394iS89Pk5emtAj49%26X-Amz-Signature%3D1689fbeb40ab96f4c5bf6650cf3cdd1477cdffb8ac06ef9977467fa5b3a547c4%26X-Amz-SignedHeaders%3Dhost%26x-id%3DGetObject\u0026amp;w=3840\u0026amp;q=75\" decoding=\"async\" data-nimg=\"fill\" class=\"nextImage p-0 rounded overflow-hidden\" loading=\"lazy\"\u003e\u003c/div\u003e\n\u003cp class=\"text-gray-600 mt-3 text-sm\"\u003eDeploy inputs for a static Vite build\u003c/p\u003e\n\u003c/div\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eWhat else does Railpack unlock? We're glad you asked:\u003c/span\u003e\u003c/p\u003e\n\u003cul class=\"list-disc pl-6 mb-6\"\u003e\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eSupport for building and deploying Vite, Astro, CRA, and Angular static sites with zero config\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eTight integration between your builds and the Railway UI\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eSupport for the latest versions of languages with no Railpack release necessary\u003c/span\u003e\u003c/li\u003e\n\u003cli class=\"mb-2\"\u003e\u003cspan class\u003eOptimized layer caching for a project across environments\u003c/span\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eRailpack is available in Beta today. Just enable it in your service settings.\u003c/span\u003e\u003c/p\u003e\n\u003cdiv class=\"flex flex-col mb-4\"\u003e\n\u003cdiv class=\"imageContainer w-full\"\u003e\u003cimg alt src=\"https://blog.railway.com/_next/image?url=https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fa63b5cbc-d4d5-4113-9555-0919a5dd0f1f%2Fbade93e0-3d5b-47c7-b4c6-a86a1465f7ed%2Fscreenshot-2025-03-04-13.44.35.png%3FX-Amz-Algorithm%3DAWS4-HMAC-SHA256%26X-Amz-Content-Sha256%3DUNSIGNED-PAYLOAD%26X-Amz-Credential%3DASIAZI2LB4666UV2M2O3%252F20250607%252Fus-west-2%252Fs3%252Faws4_request%26X-Amz-Date%3D20250607T134228Z%26X-Amz-Expires%3D3600%26X-Amz-Security-Token%3DIQoJb3JpZ2luX2VjEJ7%252F%252F%252F%252F%252F%252F%252F%252F%252F%252FwEaCXVzLXdlc3QtMiJHMEUCIQC5XfzAAMvZlTZ16SSWeVpZZw%252Bx087HzOpCRsCo58yNugIgPneHYPqY7SF0WHoNk8qVXiWqd22ONwTL%252BZoKu6RcRW4q%252FwMIdxAAGgw2Mzc0MjMxODM4MDUiDCVasxgBFB1gjW5MpSrcA0RtzmKc3izFPwSP8KOXYyi1vUyDvLm6i%252BR%252FoLV3RyAZSuZnY4%252FMTRW7NqZ50rYyCl9UWPeS8a%252F5liI29RwHjkmRqMHIrZLdTc2uc%252FsH1rNFwZS%252FHj3EPWUwxdGvXenMWSMyFbUdN4ZuZoGSRQ%252FmtUCtFxuu5ytXibNAEwWsNjSkOx5JtCehcYrBfEjG9Lvbn%252BTX2Wvkic7hZ6muBn2XSIRyv5UKn7nxmQxTAj%252BLMQraKYw3fy3YhJdIMylthkG4Xu8a1XQIOp1sw3OB%252BGUr%252F584Hj92hztZhhwfxWuLHzxWOzmKaOS7SmLYnBq6CpFF89tnq0Jx1odgrM3CKT3JqAEIxDnAEU%252B8zHr4INxqKusYBRqNUrz%252BP02ZWCswx%252BW7wMrn4dFVreqc4R2VVnZ2gl%252BDvD9rsbXWHIVd0CBEhXuWvsRC32g9LmY7NXnZNWEolq61J%252FM9%252B1yOz20EFpE30kIWdPWrrOscx6hG8FVclorfcRhZwXYMgytjUa4dvsrKZbjmBmd%252B7Ue1S2AC6yDlWQYPhZNyqxpVxy3rUr6%252BCugjPdOqGNw2zjnGKZjLg%252Fmx7FLFsDxMSbYl%252FBKZRZyatfBjcDsmRfpomfcTC5KNm6SK2GjoEqJrjfWoF55VMIOBkcIGOqUBHUQphhvPpV9CNZkwTbeU2tYrhnz%252FWYHlmATnR6A0sPBcyhv6ri80M6K13JPND%252F0qLe4%252Be1JA7QHsmKPb1pe8sfLUZMjy6Cv4un%252FlkeNq8OGZPuh3ifQnX4oOvKBh%252FwRsIknUg%252BE2jZtAlUD34FNZNYjq9ej5byrNzivKfmnrp3reLLkATRJ2erv5hvh6DDP4M%252BVtieqGD6C394iS89Pk5emtAj49%26X-Amz-Signature%3Dce47b10aeeed4b054737ad5c8a40db8a084c3f2ba0c4539a03a0d46388e11a9f%26X-Amz-SignedHeaders%3Dhost%26x-id%3DGetObject\u0026amp;w=3840\u0026amp;q=75\" decoding=\"async\" data-nimg=\"fill\" class=\"nextImage p-0 rounded overflow-hidden\" loading=\"lazy\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eIt currently supports Node, Python, Go, Php, and Static HTML deployments, including out-of-the-box support for Vite, Astro, CRA, and Angular static sites, making Railway the easiest place to deploy both your frontend and backend.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eWe are adding more framework and language support actively, so let us know in\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"https://station.railway.com/feedback/feedback-railpack-409fc7d5\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003eHelp Station\u003c/span\u003e\u003c/a\u003e \u003cspan class\u003ewhat you want to see first. We are prioritizing depth on the more commonly used languages rather than breadth, at least until the core API and abstraction are nailed.\u003c/span\u003e\u003c/p\u003e\n\u003cp class=\"leading-8 mb-4 text-gray-800\"\u003e\u003cspan class\u003eRailpack is also open source with documentation available at\u003c/span\u003e \u003ca class=\"underline hover:text-pink-600\" href=\"http://railpack.com/\" target=\"_blank\" rel=\"noreferrer noopener\"\u003e\u003cspan class\u003erailpack.com\u003c/span\u003e\u003c/a\u003e\u003cspan class\u003e.\u003c/span\u003e\u003c/p\u003e\n",
        "PubDate": "",
        "Format": "",
        "Identifier": ""
      },
      {
        "Title": "The time bomb in the tax code that\u0026#039;s fueling mass tech layoffs",
        "Link": "https://qz.com/tech-layoffs-tax-code-trump-section-174-microsoft-meta-1851783502",
        "GUID": "https://qz.com/tech-layoffs-tax-code-trump-section-174-microsoft-meta-1851783502",
        "Description": "\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eFor the past two years, it’s been a ghost in the machine of American tech.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eBetween 2022 and today, a little-noticed tweak to the U.S. tax code has quietly rewired the financial logic of how American companies invest in research and development. Outside of \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.bloomberglaw.com/tax_login?target=https%3A%2F%2Fwww.bloomberglaw.com%2Fproduct%2Ftax%2Fbloombergtaxnews%2Fdaily-tax-report%2FBNA%25200000018b-8165-d389-abcf-df6f1c4e0001\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.bloomberglaw.com/tax_login?target=https%3A%2F%2Fwww.bloomberglaw.com%2Fproduct%2Ftax%2Fbloombergtaxnews%2Fdaily-tax-report%2FBNA%25200000018b-8165-d389-abcf-df6f1c4e0001\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eCFO and accounting circles\u003c/a\u003e\u003c/span\u003e, almost no one knew it existed. “I work on these tax write-offs and still hadn’t heard about this,” a chief operating officer at a private-equity-backed tech company told Quartz. “It’s just been so weirdly silent.”\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eStill, the delayed change to a decades-old tax provision — buried deep in the 2017 tax law — has contributed to the loss of hundreds of thousands of high-paying, white-collar jobs. That’s the picture that emerges from a review of corporate filings, public financial data, analysis of timelines, and interviews with industry insiders. One accountant, working in-house at a tech company, described it as a “niche issue with broad impact,” echoing sentiments from venture capital investors also interviewed for this article. Some spoke on condition of anonymity to discuss sensitive political matters.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eSince the start of 2023, more than half-a-million tech workers have been laid off, according to \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.washington.edu/news/2025/05/14/tech-industry-layoffs/#:~:text=The%20announcements%20%E2%80%94%20which%20continued%20in,tech%20workers%20were%20laid%20off.\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.washington.edu/news/2025/05/14/tech-industry-layoffs/#:~:text=The%20announcements%20%E2%80%94%20which%20continued%20in,tech%20workers%20were%20laid%20off.\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eindustry tallies\u003c/a\u003e\u003c/span\u003e. Headlines have blamed over-hiring during the pandemic and, more recently, \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/ai-layoffs-jobs-microsoft-walmart-tech-workers-1851782194?_gl=1*133qtfh*_ga*MTYxODMyMzg4Mi4xNzQ0NjYwNDM5*_ga_V4QNJTT5L0*czE3NDg5NzI3MTgkbzIxNyRnMSR0MTc0ODk3NTA3NyRqMTMkbDAkaDA.\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/ai-layoffs-jobs-microsoft-walmart-tech-workers-1851782194?_gl=1*133qtfh*_ga*MTYxODMyMzg4Mi4xNzQ0NjYwNDM5*_ga_V4QNJTT5L0*czE3NDg5NzI3MTgkbzIxNyRnMSR0MTc0ODk3NTA3NyRqMTMkbDAkaDA.\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eAI\u003c/a\u003e\u003c/span\u003e. But beneath the surface was a hidden accelerant: a change to what’s known as Section 174 that helped gut in-house software and product development teams everywhere from tech giants such as Microsoft (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/MSFT\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/MSFT\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eMSFT\u003c/a\u003e\u003c/span\u003e) and Meta (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/META\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/META\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eMETA\u003c/a\u003e\u003c/span\u003e) to much smaller, private, direct-to-consumer and other internet-first companies.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eNow, as a \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.kbkg.com/feature/lawmakers-introduce-bill-to-retroactively-fix-rd-174-expensing\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.kbkg.com/feature/lawmakers-introduce-bill-to-retroactively-fix-rd-174-expensing\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ebipartisan effort\u003c/a\u003e\u003c/span\u003e to repeal the Section 174 change moves through Congress, bigger questions are surfacing: How did a single line in the tax code help trigger a tsunami of mass layoffs? And why did no one see it coming?\u003c/p\u003e\n\n\u003ch2 class=\"sc-1bwb26k-1 WsFMJ\" id=\"h417993\"\u003eA tax break that built the modern tech economy\u003c/h2\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eFor almost 70 years, American companies could deduct 100% of qualified research and development spending in the year they incurred the costs. Salaries, software, contractor payments — if it contributed to creating or improving a product, it came off the top of a firm’s taxable income.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.thetaxadviser.com/issues/2024/jun/rights-for-the-research-development-credit-and-sec-174/#:~:text=Originally%20enacted%20in%201954%2C%20Sec,product%20development%20expenses%20under%20Sec.\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.thetaxadviser.com/issues/2024/jun/rights-for-the-research-development-credit-and-sec-174/#:~:text=Originally%20enacted%20in%201954%2C%20Sec,product%20development%20expenses%20under%20Sec.\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ededuction was guaranteed\u003c/a\u003e\u003c/span\u003e by Section 174 of the IRS Code of 1954, and under the provision, R\u0026amp;D flourished in the U.S.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eMicrosoft was \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://news.microsoft.com/announcement/microsoft-is-born/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://news.microsoft.com/announcement/microsoft-is-born/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003efounded in 1975\u003c/a\u003e\u003c/span\u003e. Apple (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/AAPL\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/AAPL\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eAAPL\u003c/a\u003e\u003c/span\u003e) \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://americanhistory.si.edu/collections/object/nmah_1692121\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://americanhistory.si.edu/collections/object/nmah_1692121\" target=\"_blank\" rel=\"noopener noreferrer\"\u003elaunched its first computer\u003c/a\u003e\u003c/span\u003e in 1976. Google (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/GOOGL\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/GOOGL\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eGOOGL\u003c/a\u003e\u003c/span\u003e) \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://about.google/company-info/our-story/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://about.google/company-info/our-story/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eincorporated\u003c/a\u003e\u003c/span\u003e in 1998. Facebook \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.chicagotribune.com/2025/02/04/today-in-history-facebook-launch/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.chicagotribune.com/2025/02/04/today-in-history-facebook-launch/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eopened to the general public\u003c/a\u003e\u003c/span\u003e in 2006. All these companies, now among the most valuable in the world, developed their earliest products — programming tools, hardware, search engines — under a tax system that rewarded building now, not later.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe subsequent rise of smartphones, cloud computing, and mobile apps also happened in an America where companies could immediately write off their investments in engineering, infrastructure, and experimentation. It was a baseline assumption — innovation and risk-taking subsidized by the tax code — that shaped how founders operated and how investors made decisions.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eIn turn, tech companies largely built their products in the U.S.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eMicrosoft’s operating systems were coded in Washington state. Apple’s early hardware and software teams were in California. Google’s search engine was born at Stanford and scaled from Mountain View. Facebook’s entire social architecture was developed in Menlo Park. The deduction directly incentivized keeping R\u0026amp;D close to home, rewarding companies for investing in American workers, engineers, and infrastructure.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThat’s what makes the politics of Section 174 so revealing. For \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://trumpwhitehouse.archives.gov/briefings-statements/remarks-president-trump-signing-h-r-1-tax-cuts-jobs-bill-act-h-r-1370/?utm_source=chatgpt.com\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://trumpwhitehouse.archives.gov/briefings-statements/remarks-president-trump-signing-h-r-1-tax-cuts-jobs-bill-act-h-r-1370/?utm_source=chatgpt.com\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eall the rhetoric\u003c/a\u003e\u003c/span\u003e about bringing jobs back and making things in America, the first Trump administration’s major tax bill arguably helped accomplish the opposite.\u003c/p\u003e\n\u003ch2 class=\"sc-1bwb26k-1 WsFMJ\" id=\"h417994\"\u003eUndercutting the incentive structure\u003c/h2\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eWhen Congress passed the \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.investopedia.com/taxes/trumps-tax-reform-plan-explained/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.investopedia.com/taxes/trumps-tax-reform-plan-explained/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eTax Cuts and Jobs Act\u003c/a\u003e\u003c/span\u003e (TCJA), the signature legislative achievement of President Donald Trump’s first term, it slashed the corporate tax rate from 35% to 21% — a massive revenue loss on paper for the federal government.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eTo make the 2017 bill comply with Senate budget rules, lawmakers needed to offset the cost. So they added future tax hikes that wouldn’t kick in right away, wouldn’t provoke immediate backlash from businesses, and could, in theory, be quietly repealed later.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe delayed change to Section 174 — from immediate expensing of R\u0026amp;D to mandatory amortization, meaning that companies must spread the deduction out in smaller chunks over five or even 15-year periods — was that kind of provision. It didn’t start affecting the budget until 2022, but it helped the TCJA appear “deficit neutral” over the 10-year window used for legislative scoring.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe delay wasn’t a technical necessity. It was a political tactic. Such moves are \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.pbs.org/newshour/politics/as-house-gop-grinds-ahead-new-cbo-report-says-trumps-big-tax-cuts-bill-will-add-to-deficit?utm_source=chatgpt.com\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.pbs.org/newshour/politics/as-house-gop-grinds-ahead-new-cbo-report-says-trumps-big-tax-cuts-bill-will-add-to-deficit?utm_source=chatgpt.com\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ecommon in tax legislation\u003c/a\u003e\u003c/span\u003e. Phase-ins and delayed provisions let lawmakers game how the Congressional Budget Office (CBO) — Congress’ nonpartisan analyst of how bills impact budgets and deficits — scores legislation, pushing costs or revenue losses outside official forecasting windows.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eAnd so, on schedule in 2022, the change to Section 174 went into effect. Companies filed their 2022 tax returns under the new rules in early 2023. And suddenly, R\u0026amp;D wasn’t a full, immediate write-off anymore. The tax benefits of salaries for engineers, product and project managers, data scientists, and even some user experience and marketing staff — all of which had previously reduced taxable income in year one — now had to be spread out over five- or 15-year periods.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eTo understand the impact, imagine a personal tax code change that allowed you to deduct 100% of your biggest source of expenses, and that becoming a 20% deduction. For cash-strapped companies, especially those not yet profitable, the result was a painful tax bill just as venture funding dried up and interest rates soared.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cfigure class=\"sc-1eow4w5-1 fuSEnv align--bleed js_lazy-image js_marquee-assetfigure\" id data-id=\"f98c03fc6fa7849430a06662e4584a82\" data-recommend-id=\"image://f98c03fc6fa7849430a06662e4584a82\" data-format=\"jpg\" data-width=\"4000\" data-height=\"2667\" data-lightbox=\"true\" data-recommended=\"false\" data-hide=\"false\" contenteditable=\"false\" draggable=\"false\" readability=\"1\"\u003e\u003cdiv class=\"sc-1eow4w5-2 fDJNBs has-data img-wrapper\" contenteditable=\"false\" data-link-reference data-link-target data-syndicationrights=\"true\" data-imagerights=\"getty\" data-hide=\"false\" data-hidecredit=\"false\" readability=\"7\"\u003e\n\n\u003cdiv class=\"sc-1eow4w5-3 hGpdBg\"\u003e\u003cpicture class=\"sc-epkw7d-0 diKDHf lazy-picture\"\u003e\u003csource media=\"(max-width: 37.31em)\" type=\"image/jpeg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" data-srcset=\"https://i.kinja-img.com/image/upload/c_fit,q_60,w_645/f98c03fc6fa7849430a06662e4584a82.jpg\"\u003e\u003csource media=\"(min-width: 37.37em)\" type=\"image/jpeg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" data-srcset=\"https://i.kinja-img.com/image/upload/c_fit,q_60,w_1315/f98c03fc6fa7849430a06662e4584a82.jpg\"\u003e\u003cimg alt=\"Salesforce office buildings in San Francisco.\" data-chomp-id=\"f98c03fc6fa7849430a06662e4584a82\" data-format=\"jpg\" data-height=\"2667\" data-alt=\"Salesforce office buildings in San Francisco.\" data-anim-src src=\"https://i.kinja-img.com/image/upload/c_fit,q_60,w_645/f98c03fc6fa7849430a06662e4584a82.jpg\"\u003e\u003c/picture\u003e\u003c/div\u003e\n\u003cp\u003e\n\u003cfigcaption class=\"sc-1ptbguh-0 fAGGUj caption\"\u003eSalesforce office buildings in San Francisco.\u003c/figcaption\u003e\u003cfigcaption class=\"sc-7s1ndr-0 KimBL has-caption\"\u003ePhoto: Jason Henry/Bloomberg (Getty Images)\u003c/figcaption\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/figure\u003e\u003ch2 class=\"sc-1bwb26k-1 WsFMJ\" id=\"h417995\"\u003eThe layoffs begin\u003c/h2\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eIt’s no coincidence that Meta announced its “Year of Efficiency” \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.fastcompany.com/91211773/meta-platforms-2024-layoffs-reality-labs-instagram-whatsapp-year-of-efficiency\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.fastcompany.com/91211773/meta-platforms-2024-layoffs-reality-labs-instagram-whatsapp-year-of-efficiency\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eimmediately after\u003c/a\u003e\u003c/span\u003e the Section 174 change took effect. Ditto Microsoft laying off 10,000 employees in \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.cnbc.com/2023/07/10/microsoft-confirms-more-job-cuts-on-top-of-10000-layoffs-in-january.html#:~:text=The%20cuts%20are%20in%20addition,on%20their%20cloud%20computing%20bill.\u0026amp;text=Is%20the%20bubble%20bursting%20for%20tech%20workers?\u0026amp;text=A%20Microsoft%20spokesperson%20declined%20to,of%20our%20customers%20and%20partners.%22\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.cnbc.com/2023/07/10/microsoft-confirms-more-job-cuts-on-top-of-10000-layoffs-in-january.html#:~:text=The%20cuts%20are%20in%20addition,on%20their%20cloud%20computing%20bill.\u0026amp;text=Is%20the%20bubble%20bursting%20for%20tech%20workers?\u0026amp;text=A%20Microsoft%20spokesperson%20declined%20to,of%20our%20customers%20and%20partners.%22\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eJanuary 2023\u003c/a\u003e\u003c/span\u003e despite strong earnings, or Google parent Alphabet \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.nytimes.com/2023/01/20/business/google-alphabet-layoffs.html\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.nytimes.com/2023/01/20/business/google-alphabet-layoffs.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ecutting\u003c/a\u003e\u003c/span\u003e 12,000 jobs around the same time.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eAmazon (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/AMZN\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/AMZN\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eAMZN\u003c/a\u003e\u003c/span\u003e) also laid off almost 30,000 people, with \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.cnbc.com/2024/04/03/amazon-layoffs-hundreds-of-jobs-cut-in-cloud-computing-unit.html\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.cnbc.com/2024/04/03/amazon-layoffs-hundreds-of-jobs-cut-in-cloud-computing-unit.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ecuts focused\u003c/a\u003e\u003c/span\u003e not just on logistics but on Alexa and internal cloud tools — precisely the kinds of projects that would have once qualified as immediately deductible R\u0026amp;D. Salesforce (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/CRM\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/CRM\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eCRM\u003c/a\u003e\u003c/span\u003e) \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.cxtoday.com/crm/marc-benioff-on-dumpster-fire-layoffs-how-salesforce-bounced-back/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.cxtoday.com/crm/marc-benioff-on-dumpster-fire-layoffs-how-salesforce-bounced-back/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eeliminated\u003c/a\u003e\u003c/span\u003e 10% of its staff, or 8,000 people, including entire product teams.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eIn public, companies blamed bloat and AI. But inside boardrooms, spreadsheets were telling a quieter story. And \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.investopedia.com/terms/m/mdanalysis.asp\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.investopedia.com/terms/m/mdanalysis.asp\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eMD\u0026amp;A\u003c/a\u003e\u003c/span\u003e notes — management’s notes on the numbers — buried deep in 10-K filings recorded the change, too. R\u0026amp;D had become more expensive to carry. Headcount, the leading R\u0026amp;D expense across the tech industry, was the easiest thing to cut.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eIn its \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://d18rn0p25nwr6d.cloudfront.net/CIK-0001326801/e574646c-c642-42d9-9229-3892b13aabfb.pdf\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://d18rn0p25nwr6d.cloudfront.net/CIK-0001326801/e574646c-c642-42d9-9229-3892b13aabfb.pdf\" target=\"_blank\" rel=\"noopener noreferrer\"\u003e2023 annual report\u003c/a\u003e\u003c/span\u003e, Meta described salaries as its single biggest R\u0026amp;D expense. Between the first and second years that the Section 174 change began affecting tax returns, Meta cut its total workforce by almost 25%. Over the same period, Microsoft reduced its global headcount by about 7%, with cuts concentrated in product-facing, engineering-heavy roles.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eSmaller companies without the fortress-like balance sheets of Big Tech have arguably been hit even harder. Twilio (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/TWLO\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/TWLO\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eTWLO\u003c/a\u003e\u003c/span\u003e) \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.cxtoday.com/contact-center/twilio-kicks-off-third-round-off-layoffs-changes-its-ccaas-sales-strategy/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.cxtoday.com/contact-center/twilio-kicks-off-third-round-off-layoffs-changes-its-ccaas-sales-strategy/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eslashed\u003c/a\u003e\u003c/span\u003e 22% of its workforce in 2023 alone. Shopify (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/SHOP\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/SHOP\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eSHOP\u003c/a\u003e\u003c/span\u003e) (headquartered in Canada but with much of its R\u0026amp;D teams in the U.S.) \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://thewalrus.ca/the-death-of-shopifys-start-up-dream-one-layoff-at-a-time/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://thewalrus.ca/the-death-of-shopifys-start-up-dream-one-layoff-at-a-time/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ecut almost 30% of staff\u003c/a\u003e\u003c/span\u003e in 2022 and 2023. Coinbase (\u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/quote/COIN\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/quote/COIN\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eCOIN\u003c/a\u003e\u003c/span\u003e) \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.nytimes.com/2023/01/10/business/coinbase-layoffs-crypto.html\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.nytimes.com/2023/01/10/business/coinbase-layoffs-crypto.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ereduced headcount\u003c/a\u003e\u003c/span\u003e by 36% across a pair of brutal restructuring waves.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eSince going into effect, the provision has hit at the very heart of America’s economic growth engine: the tech sector.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eBy market cap, tech giants dominate the S\u0026amp;P 500, with \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/magnificent-7-stocks-aapl-nvda-msft-goog-amzn-meta-tsla-1851681874\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/magnificent-7-stocks-aapl-nvda-msft-goog-amzn-meta-tsla-1851681874\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ethe “Magnificent 7”\u003c/a\u003e\u003c/span\u003e alone accounting for \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.fool.com/research/magnificent-seven-sp-500/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.fool.com/research/magnificent-seven-sp-500/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003emore than a third\u003c/a\u003e\u003c/span\u003e of the index’s total value. Workforce numbers tell a similar story, with tech employing millions of Americans directly and supporting the employment of tens of millions more. As measured by GDP, \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://itif.org/publications/2023/05/30/six-tech-industries-accounted-for-more-than-one-third-of-gdp-growth-in-the-last-decade/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://itif.org/publications/2023/05/30/six-tech-industries-accounted-for-more-than-one-third-of-gdp-growth-in-the-last-decade/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ecapital-T tech\u003c/a\u003e\u003c/span\u003e contributes about 10% of national output.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eIt’s not just that tech layoffs were large, it’s that they were massively disproportionate. Across the broader U.S. economy, job cuts hovered around in low single digits across most sectors. But in tech, entire divisions vanished, with a \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.cfodive.com/news/meta-microsoft-workday-join-latest-wave-of-tech-layoffs/740171/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.cfodive.com/news/meta-microsoft-workday-join-latest-wave-of-tech-layoffs/740171/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ewhopping 60% jump\u003c/a\u003e\u003c/span\u003e in layoffs between 2022 and 2023. Some cuts reflected real inefficiencies — a response to over-hiring during the zero-interest rate boom. At the same time, many of the roles eliminated were in R\u0026amp;D, product, and engineering, precisely the kind of functions that had once benefitted from generous tax treatment under Section 174.\u003c/p\u003e\n\u003ch2 class=\"sc-1bwb26k-1 WsFMJ\" id=\"h417996\"\u003eA crippling change even outside tech\u003c/h2\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThroughout the 2010s, a broad swath of startups, direct-to-consumer brands, and internet-first firms — basically every company you recognize from Instagram or Facebook ads — built their growth models around a kind of engineered break-even.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe tax code allowed them to spend aggressively on product and engineering, then write it all off as R\u0026amp;D, keeping their taxable income close to zero by design. It worked because taxable income and actual cash flow were often not quite the same thing under what’s known as \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.investopedia.com/terms/g/gaap.asp\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.investopedia.com/terms/g/gaap.asp\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eGAAP\u003c/a\u003e\u003c/span\u003e accounting practices. Basically, as long as spending counted as R\u0026amp;D, companies could report losses to investors while owing almost nothing to the IRS.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eBut the Section 174 change broke that model. Once those same expenses had to be spread out, or amortized, over multiple years, the tax shield vanished. Companies that were still burning cash suddenly looked profitable on paper, triggering real tax bills on imaginary gains.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe logic that once fueled a generation of digital-first growth collapsed overnight.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eSo it wasn’t just tech experiencing effects. From 1954 until 2022, the U.S. tax code had encouraged businesses of all stripes to behave like tech companies. From retail to logistics, healthcare to media, if firms built internal tools, customized a software stack, or invested in business intelligence and data-driven product development, they could expense those costs. The write-off incentivized in-house builds and fast growth well outside the capital-T tech sector. This lines up with \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.oecd.org/content/dam/oecd/en/publications/reports/2020/09/the-effects-of-r-d-tax-incentives-and-their-role-in-the-innovation-policy-mix_b7f9884d/65234003-en.pdf\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.oecd.org/content/dam/oecd/en/publications/reports/2020/09/the-effects-of-r-d-tax-incentives-and-their-role-in-the-innovation-policy-mix_b7f9884d/65234003-en.pdf\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eOECD research\u003c/a\u003e\u003c/span\u003e showing that immediate deductions foster innovation more than spread-out ones.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eAnd American companies ran with that logic. According to government data, U.S. businesses reported about $500 billion in \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://ncses.nsf.gov/pubs/nsf22314\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://ncses.nsf.gov/pubs/nsf22314\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eR\u0026amp;D expenditures\u003c/a\u003e\u003c/span\u003e in 2019 alone, and almost half of that came from industries outside traditional tech. The Bureau of Economic Analysis estimates that this sector, the broader digital economy, \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://itif.org/publications/2023/05/30/six-tech-industries-accounted-for-more-than-one-third-of-gdp-growth-in-the-last-decade/\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://itif.org/publications/2023/05/30/six-tech-industries-accounted-for-more-than-one-third-of-gdp-growth-in-the-last-decade/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eaccounts\u003c/a\u003e\u003c/span\u003e for another 10% of GDP.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eAdd that to core tech’s contribution, and the Section 174 shift has likely touched at least 20% of the U.S. economy.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe result? A tax policy aimed at raising short-term revenue effectively hid a time bomb inside the growth engines of thousands of companies. And when it detonated, it kneecapped the incentive for hiring American engineers or investing in American-made tech and digital products.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eIt made building tech companies in America look irrational on a spreadsheet.\u003c/p\u003e\n\u003ch2 class=\"sc-1bwb26k-1 WsFMJ\" id=\"h417997\"\u003eRepeal may come too late\u003c/h2\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eA bipartisan group of lawmakers is \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.kbkg.com/feature/lawmakers-introduce-bill-to-retroactively-fix-rd-174-expensing\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.kbkg.com/feature/lawmakers-introduce-bill-to-retroactively-fix-rd-174-expensing\" target=\"_blank\" rel=\"noopener noreferrer\"\u003epushing to repeal\u003c/a\u003e\u003c/span\u003e the Section 174 change, with business groups, CFOs, crypto executives, and venture capitalists lobbying hard for retroactive relief. But the politics are messy. Fixing 174 would mean handing a tax break to the same companies many voters in both parties see as symbols of corporate excess. Any repeal would also come too late for the hundreds of thousands of workers already laid off.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eAnd of course, the losses don’t stop at Meta’s or Google’s campus gates. They ripple out. When high-paid tech workers disappear, so do the lunch orders. The \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://qz.com/luxury-home-prices-jumbo-mortgages-economic-uncertainty-1851782446\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://qz.com/luxury-home-prices-jumbo-mortgages-economic-uncertainty-1851782446\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehouse tours\u003c/a\u003e\u003c/span\u003e. The contract gigs. The spending habits that sustain entire urban economies and thousands of other jobs. Sandwich artists. Rideshare drivers. Realtors. Personal trainers. House cleaners. In tech-heavy cities, the fallout runs deep — and it’s still unfolding.\u003c/p\u003e\n\u003cdiv class=\"sc-bxm4mm-3 kbkhfU js_midbanner_ad_slot\"\u003e\n\u003cdiv class=\"sc-bxm4mm-5 jgBSrk\"\u003e\u003clabel class=\"sc-bxm4mm-4 chWAYs\"\u003eAdvertisement\u003c/label\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eWashington is now poised to pass a second Trump tax bill — one packed with more \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://finance.yahoo.com/news/obscure-tax-item-trump-big-195608308.html\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://finance.yahoo.com/news/obscure-tax-item-trump-big-195608308.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eobscure provisions\u003c/a\u003e\u003c/span\u003e, more \u003cspan\u003e\u003ca class=\"sc-1out364-0 dPMosf sc-145m8ut-0 eqRerm js_link\" data-ga=\"[[\u0026quot;Embedded Url\u0026quot;,\u0026quot;External link\u0026quot;,\u0026quot;https://www.axios.com/2025/06/01/mike-johnson-big-beautiful-bill-trump-math-republicans\u0026quot;,{\u0026quot;metric25\u0026quot;:1}]]\" href=\"https://www.axios.com/2025/06/01/mike-johnson-big-beautiful-bill-trump-math-republicans\" target=\"_blank\" rel=\"noopener noreferrer\"\u003edelayed impacts\u003c/a\u003e\u003c/span\u003e, more quiet redistribution. And it comes as analysts are only just beginning to understand the real-world effects of the last round.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eThe Section 174 change “significantly increased the tax burden on companies investing in innovation, potentially stifling economic growth and reducing the United States’ competitiveness on the global stage,” according to the tax consulting firm KBKG.\u003c/p\u003e\n\u003cp class=\"sc-77igqf-0 fnnahv\"\u003eWhether the U.S. will reverse course — or simply adapt to a new normal — remains to be seen.\u003c/p\u003e\n",
        "PubDate": "",
        "Format": "",
        "Identifier": ""
      }
    ]
  }
}